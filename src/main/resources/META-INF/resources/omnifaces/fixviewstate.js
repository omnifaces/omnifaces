var OmniFaces=OmniFaces||{};
OmniFaces.FixViewState=function(){function e(e){for(var t=e.getElementsByTagName("update"),n=0;n<t.length;n++)if(i.exec(t[n].getAttribute("id")))return t[n].firstChild.nodeValue;return null}function t(e,t){var n;try{n=document.createElement("<input name='"+a+"'>")}catch(i){n=document.createElement("input"),n.setAttribute("name",a)}n.setAttribute("type","hidden"),n.setAttribute("value",t),n.setAttribute("autocomplete","off"),e.appendChild(n)}var n={},a="javax.faces.ViewState",i=new RegExp("^([\\w]+:)?"+a.replace(/\./g,"\\.")+"(:[0-9]+)?$");return n.apply=function(n){if("undefined"!=typeof n){var i=e(n);if(i)for(var u=0;u<document.forms.length;u++){var r=document.forms[u],o=r[a];"post"!=r.method||o?"get"==r.method&&o&&o.parentNode.removeChild(o):t(r,i)}}},n}(),"undefined"!=typeof jsf&&jsf.ajax.addOnEvent(function(e){"success"==e.status&&OmniFaces.FixViewState.apply(e.responseXML)}),"undefined"!=typeof jQuery&&jQuery(document).ajaxComplete(function(e,t){"undefined"!=typeof t&&OmniFaces.FixViewState.apply(t.responseXML)});