var OmniFaces=OmniFaces||{};
OmniFaces.FixViewState=function(e,t){function n(e){for(var t=e.getElementsByTagName("update"),n=0;n<t.length;n++){var a=t[n];if(i.exec(a.getAttribute("id")))return a.textContent||a.innerText}return null}function a(e,n){var a;try{a=t.createElement("<input name='"+r+"'>")}catch(i){a=t.createElement("input"),a.setAttribute("name",r)}a.setAttribute("type","hidden"),a.setAttribute("value",n),a.setAttribute("autocomplete","off"),e.appendChild(a)}var r="javax.faces.ViewState",i=new RegExp("^([\\w]+:)?"+r.replace(/\./g,"\\.")+"(:[0-9]+)?$"),u={};return u.apply=function(e){if("undefined"!=typeof e){var i=n(e);if(i)for(var u=0;u<t.forms.length;u++){var o=t.forms[u],s=o[r];"post"!=o.method||s||a(o,i)}}},e.jsf&&jsf.ajax.addOnEvent(function(e){"success"==e.status&&u.apply(e.responseXML)}),e.jQuery&&jQuery(t).ajaxComplete(function(e,t,n){"undefined"!=typeof t&&u.apply(t.responseXML)}),u}(window,document);